"use strict";(self.webpackChunkcmssample=self.webpackChunkcmssample||[]).push([[3677],{4186:(S,g,t)=>{t.r(g),t.d(g,{default:()=>x});var e=t(27279),n=t(57537),P=t(364),c=t(61020),h=t(49402),p=t(36364),y=t(51926),d=t(27997),m=t(9941),T=t(27875),C=t(74758),M=t(70774),L=t(38101),f=t(93153),s=t(50086),o=t(21395),I=t(86967),Z=t(40464);const N=l=>{const a=(0,n.useNotification)(),{get:i}=(0,n.useFetchClient)();return(0,Z.useQuery)(["plugins"],async()=>{const{data:r}=await i("/admin/plugins");return r},{onSuccess(){l&&l()},onError(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})},A=()=>{const{formatMessage:l}=(0,c.Z)(),{notifyStatus:a}=(0,y.G)();(0,n.useFocusWhenNavigate)();const i=l({id:"global.plugins",defaultMessage:"Plugins"}),r=()=>{a(l({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:i}))},{status:E,data:v}=N(r);return E!=="success"&&E!=="error"?e.createElement(d.A,null,e.createElement(m.o,{"aria-busy":!0},e.createElement(n.LoadingIndicatorPage,null))):e.createElement(d.A,null,e.createElement(m.o,null,e.createElement(T.T,{title:i,subtitle:l({id:"app.components.ListPluginsPage.description",defaultMessage:"List of the installed plugins in the project."})}),e.createElement(C.D,null,e.createElement(M.i,{colCount:2,rowCount:v?.plugins?.length??0+1},e.createElement(L.h,null,e.createElement(f.Tr,null,e.createElement(s.Th,null,e.createElement(o.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),e.createElement(s.Th,null,e.createElement(o.Z,{variant:"sigma",textColor:"neutral600"},l({id:"global.description",defaultMessage:"description"}))))),e.createElement(I.p,null,v.plugins.map(({name:u,displayName:F,description:H})=>e.createElement(f.Tr,{key:u},e.createElement(s.Td,null,e.createElement(o.Z,{textColor:"neutral800",variant:"omega",fontWeight:"bold"},l({id:`global.plugins.${u}`,defaultMessage:F}))),e.createElement(s.Td,null,e.createElement(o.Z,{textColor:"neutral800"},l({id:`global.plugins.${u}.description`,defaultMessage:H}))))))))))},x=()=>{const{formatMessage:l}=(0,c.Z)(),a=(0,h.v9)(p._);return e.createElement(n.CheckPagePermissions,{permissions:a.marketplace.main},e.createElement(P.q,{title:l({id:"global.plugins",defaultMessage:"Plugins"})}),e.createElement(A,null))}}}]);
